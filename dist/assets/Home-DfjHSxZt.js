import{r,j as e}from"./react-BXKVwpXS.js";import{u as f}from"./router-BY5RzGUz.js";import"./vendor-CsXZVAg4.js";const N="_container_qj9wl_1",S="_card_qj9wl_13",b="_title_qj9wl_33",C="_subtitle_qj9wl_49",E="_description_qj9wl_63",P="_nameInput_qj9wl_75",y="_error_qj9wl_123",A="_selectionContainer_qj9wl_139",I="_dropdown_qj9wl_155",T="_startButton_qj9wl_225",s={container:N,card:S,title:b,subtitle:C,description:E,nameInput:P,error:y,selectionContainer:A,dropdown:I,startButton:T};function q(){const[a,o]=r.useState(null),[m,n]=r.useState(!1);r.useEffect(()=>{const i=d=>{d.preventDefault(),o(d),localStorage.getItem("pwa-dismissed")||n(!0)};window.addEventListener("beforeinstallprompt",i);const u=setTimeout(()=>{!localStorage.getItem("pwa-dismissed")&&!a&&n(!0)},3e3);return()=>{window.removeEventListener("beforeinstallprompt",i),clearTimeout(u)}},[a]);const l=async()=>{if(a){a.prompt();const{outcome:i}=await a.userChoice;i==="accepted"&&o(null)}n(!1)},c=()=>{n(!1),localStorage.setItem("pwa-dismissed","true")};return m?e.jsx("div",{className:"pwa-prompt",children:e.jsxs("div",{className:"pwa-content",children:[e.jsx("h3",{children:"ðŸ“± Add to Home Screen"}),e.jsx("p",{children:"Install GatePixels for quick access and offline practice!"}),e.jsxs("div",{className:"pwa-buttons",children:[e.jsx("button",{onClick:l,className:"install-btn",children:a?"Install App":"Add to Home Screen"}),e.jsx("button",{onClick:c,className:"dismiss-btn",children:"Not Now"})]})]})}):null}function k(){const a=f(),[o,m]=r.useState("papers"),[n,l]=r.useState("2025_morning"),[c,i]=r.useState(""),[u,d]=r.useState(""),[p,h]=r.useState("1"),g=t=>t.trim()?t.length>30?"Max 30 characters":/^[a-zA-Z0-9\s-]+$/.test(t)?"":"Only letters, number and spaces allowed":"Name is required",j={compiler_design:["1","2"],operating_system:["1","2"],coa:["1","2"]},v=t=>{l(t.target.value),h("1")},_=()=>{const t=g(c);if(t){d(t);return}localStorage.setItem("userName",c.trim()),localStorage.removeItem("scoreSaved"),a("/ExamPage",{state:{examCategory:o,selectedPaper:n,selectedSubjectPart:p}})},w=t=>{const x=t.target.value;m(x),l(x==="papers"?"2025_morning":"general_aptitude"),h("1")};return e.jsxs("div",{className:s.container,children:[e.jsxs("div",{className:s.card,children:[e.jsx("h1",{className:s.title,children:"Welcome to GatePixels"}),e.jsx("h2",{className:s.subtitle,children:"Test Your Knowledge"}),e.jsx("p",{className:s.description,children:"Practice with real GATE questions and improve your scores"}),e.jsx("div",{className:s.selectionContainer,children:e.jsxs("div",{className:s.dropdown,children:[e.jsx("label",{children:"Your Name:"}),e.jsx("input",{type:"text",value:c,onChange:t=>i(t.target.value),placeholder:"Enter your name",className:s.nameInput}),u&&e.jsx("span",{className:s.error,children:u})]})}),e.jsxs("div",{className:s.selectionContainer,children:[e.jsxs("div",{className:s.dropdown,children:[e.jsx("label",{children:"Exam Type:"}),e.jsxs("select",{value:o,onChange:w,children:[e.jsx("option",{value:"papers",children:"GATE Previous Papers"}),e.jsx("option",{value:"subjects",children:"GATE Subject-wise"})]})]}),e.jsxs("div",{className:s.dropdown,children:[e.jsx("label",{children:"Select:"}),o==="papers"?e.jsxs("select",{value:n,onChange:t=>l(t.target.value),children:[e.jsx("option",{value:"2025_morning",children:"GATE 2025 Morning"}),e.jsx("option",{value:"2025_evening",children:"GATE 2025 Evening"}),e.jsx("option",{value:"2024_morning",children:"GATE 2024 Morning"}),e.jsx("option",{value:"2024_evening",children:"GATE 2024 Evening"})]}):e.jsxs("select",{value:n,onChange:v,children:[e.jsx("option",{value:"general_aptitude",children:"General Aptitude"}),e.jsx("option",{value:"engineering_maths",children:"Engineering Mathematics"}),e.jsx("option",{value:"discrete_maths",children:"Discrete Mathematics"}),e.jsx("option",{value:"operating_system",children:"Operating System"}),e.jsx("option",{value:"programming_and_data_structures",children:"Programming and Data Structures"}),e.jsx("option",{value:"algorithms",children:"Algorithms"}),e.jsx("option",{value:"dld",children:"Digital Logic Design"}),e.jsx("option",{value:"dbms",children:"Database Management Systems"}),e.jsx("option",{value:"theory_of_computation",children:"Theory of Computation"}),e.jsx("option",{value:"computer_networks",children:"Computer Networks"}),e.jsx("option",{value:"coa",children:"COA"}),e.jsx("option",{value:"compiler_design",children:"Compiler Design"})]})]}),o==="subjects"&&j[n]&&e.jsxs("div",{className:s.dropdown,children:[e.jsx("label",{children:"Paper:"}),e.jsx("select",{value:p,onChange:t=>h(t.target.value),children:j[n].map(t=>e.jsxs("option",{value:t,children:["Paper ",t]},t))})]})]}),e.jsx("button",{className:s.startButton,onClick:_,children:"START EXAM"})]}),e.jsx(q,{})]})}export{k as default};
