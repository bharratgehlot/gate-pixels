import{r as l,j as a}from"./react-BXKVwpXS.js";import{s as w,S as q}from"./ScoreCounter-DzyDpDNy.js";import{g as C,i as L,a as I,c as k,q as T,o as B,l as D,b as A,F as E}from"./vendor-CsXZVAg4.js";import{u as M,b as P}from"./router-BY5RzGUz.js";const U="_container_10t7q_1",W="_card_10t7q_13",F="_title_10t7q_33",z="_subtitle_10t7q_49",K="_button_10t7q_63",O="_loadingContainer_10t7q_101",R="_spinner_10t7q_117",Y="_leaderboard_10t7q_135",$="_leaderboardTable_10t7q_145",G="_dateColumn_10t7q_363",e={container:U,card:W,title:F,subtitle:z,button:K,loadingContainer:O,spinner:R,leaderboard:Y,leaderboardTable:$,dateColumn:G},X={apiKey:"AIzaSyAj6ZxzIXBvUlf4DxLvBzhLq0Goy869KKY",authDomain:"gate-pixels.firebaseapp.com",projectId:"gate-pixels",storageBucket:"gate-pixels.firebasestorage.app",messagingSenderId:"1088262251625",appId:"1:1088262251625:web:8e2c5dd0b0bfe1cd37aef8"},Z=L(X),p=C(Z),H=async(s,n,o,c,i)=>{try{await I(k(p,"scores"),{name:s,score:n,examType:o,examPaper:c,totalMarks:i,timestamp:new Date})}catch(d){console.error("Error saving score:",d)}},J=async()=>{try{const s=T(k(p,"scores"),B("score","desc"),D(10));return(await A(s)).docs.map(o=>o.data())}catch(s){return console.error("Error getting scores:",s),[]}},u=new E,f=["kutta","kutti","kuta","kutiya","saala","saali","sala","sali","harami","haramkhor","kamina","kamini","kameena","kameeni","randi","randwa","chutiya","chutiye","gandu","gaandu","gantu","bsdk","bhsdk","mc","bc","mkc","bkl","bhkl","mkl","madarchod","behenchod","bhenchod","bhencho","madarjaat","maderjaat","behenjaat","bhenjaat","lund","lauda","loda","lodu","chut","choot","bur","bhosda","bhosdi","bhosdike","bhosadike","gaand","gand","tatti","suar","suwar","gadha","gadhe","ullu","bandar","bhains","bakri","janwar","haiwaan","badmaash","badmash","goonda","gunda","lafanga","awara","nikamma","nalayak","bewakoof","pagal","paagal","maa","baap","behen","beti","beta","papa","mama","nana","nani","dada","dadi","chacha","chachi","sisterfucker","motherfucker","chodu","randu","chinaal","chinnal","raand","veshya","chamar","bhangi","neech","kaala","gora","firangi","kafir","mlecha","yavan","katua","katwa","jihadi","chutiyapa","bakchodi","haggu","tharki","despo","creep","pervert","rapist","molester","harasser","kuttta","ganduu","chutiyaa","randii","saalaa","haramii","kaminaa","bsdkk","mcc","bcc","fck","fuk","fk","bastard","bitch","whore","slut","prostitute","pimp","asshole","dickhead","cunt","pussy","cock","dick","maderfucker","sisterfker","benchod","madchod","bhnchod","gndmrne","lndmrne","chutmrne","randimrne","chutad","gaand","gaaand","gaaaand","gannnnd","jhonny sins","sunnyleone","fucck","lundd","seex","boob","boobss","tits","titfuck","boobsuck","boobe"];u.addWords(...f);const g=s=>{if(!s||u.isProfane(s))return"Bad User";const n=u.list,o=[...f,...n],c=s.toLowerCase();return o.some(d=>c.includes(d.toLowerCase()))?"Bad User":s};function ta(){const s=M(),n=P(),{answers:o={},questions:c=[],examCategory:i,selectedPaper:d}=n.state||{},[m,j]=l.useState(""),[x,_]=l.useState([]),[y,b]=l.useState(!0);return l.useEffect(()=>{const t=localStorage.getItem("userName"),r=localStorage.getItem("finalScore"),S=localStorage.getItem("scoreSaved");if(t&&j(t),t&&r&&!S){const h=c.reduce((N,v)=>N+v.marks,0);H(t,parseFloat(r),i,d,h),localStorage.setItem("scoreSaved","true")}(async()=>{b(!0);const h=await J();_(h),b(!1)})()},[i,d]),a.jsx("div",{className:e.container,children:a.jsxs("div",{className:e.card,children:[a.jsx("h1",{className:e.title,children:"Thank You!"}),a.jsx("h2",{className:e.subtitle,children:"Exam Completed Successfully"}),a.jsxs("h2",{className:e.subtitle,children:[" ",m?` ${g(m)}`:"","' Final Score:"]}),a.jsx("div",{className:w.cardScore,children:a.jsx(q,{answers:o,questions:c})}),a.jsxs("div",{className:e.leaderboard,children:[a.jsx("h2",{className:e.subtitle,children:"Current Leaderboard:"}),y?a.jsxs("div",{className:e.loadingContainer,children:[a.jsx("div",{className:e.spinner}),a.jsx("p",{children:"Loading leaderboard..."})]}):a.jsxs("table",{className:e.leaderboardTable,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Rank"}),a.jsx("th",{children:"Username"}),a.jsx("th",{children:"Paper"}),a.jsx("th",{children:"Marks"}),a.jsx("th",{className:e.dateColumn,children:"Date"})]})}),a.jsx("tbody",{children:x.slice(0,10).map((t,r)=>a.jsxs("tr",{children:[a.jsx("td",{children:r===0?"ðŸ¥‡":r===1?"ðŸ¥ˆ":r===2?"ðŸ¥‰":r+1}),a.jsx("td",{children:g(t.name)}),a.jsx("td",{children:t.examPaper||"N/A"}),a.jsxs("td",{children:[Math.round(t.score*100)/100,t.totalMarks?`/${t.totalMarks}`:""]}),a.jsx("td",{className:e.dateColumn,children:t.timestamp?new Date(t.timestamp.seconds*1e3).toLocaleDateString():"N/A"})]},r))})]})]}),a.jsx("button",{className:e.button,onClick:()=>s("/"),children:"Take Another Test"})]})})}export{ta as default};
